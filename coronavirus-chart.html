<!DOCTYPE html>
<!-- saved from url=(0060)https://www.chartjs.org/samples/latest/scales/time/line.html -->
<html xml:lang="en" lang="en" xmlns:fb="http://ogp.me/ns/fb#">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Coronavirus Prediction Live - counter & chart - infected & dead</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Chart of 2019-nCoV infected, dead, and forecast with intraday infected prediction counter. Interactive historical graph with optional logarithmic scale.">
	<meta name="keywords" content="coronavirus,chart,history,graph,logaritmic scale,log scale,logaritmic">
	<link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

	<!--	<script async="" src="./index_files/analytics.js"></script>-->

	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>

<!--	<script src="./index_files/Chart.min.js"></script>-->
	<script src="https://www.chartjs.org/dist/2.9.3/Chart.min.js"></script>


<!--	<script src="./index_files/utils.js"></script>-->
	<script src="https://www.chartjs.org/samples/latest/utils.js"></script>
	<style>

		canvas {
			-moz-user-select: none;
			-webkit-user-select: none;
			-ms-user-select: none;
		}

		h1 {
			font-size: calc(15px + 5vmin);
			color: #000000;
			/*text-shadow: 2px 2px 2px #688200;*/
		}

		button {
			font-size: calc(7px + 1vmin);
            background-color: white;
			color: #000000;
			border-radius: 0;
			border-width: 1px;
			box-shadow:inset 0px 1px 0px 0px #fff6af;
			border:1px solid #000000;

		}

		a,a:visited {
			color:  #000000;
		}

	</style>
<style type="text/css">/* Chart.js */
@keyframes chartjs-render-animation {
	from {
		opacity: .99
	}
	to {
		opacity: 1
	}
}

.chartjs-render-monitor {
	animation: chartjs-render-animation 1ms
}

.chartjs-size-monitor, .chartjs-size-monitor-expand, .chartjs-size-monitor-shrink {
	position: absolute;
	direction: ltr;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	overflow: hidden;
	pointer-events: none;
	visibility: hidden;
	z-index: -1
}

.chartjs-size-monitor-expand > div {
	position: absolute;
	width: 1000000px;
	height: 1000000px;
	left: 0;
	top: 0
}

.chartjs-size-monitor-shrink > div {
	position: absolute;
	width: 200%;
	height: 200%;
	left: 0;
	top: 0
}</style>
</head>

<body>

	<div style="align-content: center; text-align: center; display: flex; justify-content: center;">
		<div style="max-width: 1400px; width: 98.5%">
			<h1 style="margin-bottom: 5px">&#x1F4C8; Coronavirus Chart </h1>
			<h2><span style="color: red">‚Ä¢ Live</span> <span style="color: blue">Prediction</span></h2>
			<br>
			<i>
				Updated 2020-02-10 06:42 UTC - <b style="color: blue">Is 2019-nCoV acceleration slowing down further? Death toll surpases SARS with over 800 dead.</b><br><br>
				 <b style="color: darkorange; text-shadow: 1px 1px 0 #688200;">Real-time prediction counter</b> and an interactive chart of 3 day forecast of the novel coronavirus infected and dead. Updated daily. Predictions are <b style="color: blue">blue points</b>. Click the labels to toggle infected count, death toll or log scale below. Hover over a data point for details.
			</i>
			<br>
			<br>
			<div style="color: darkorange; text-shadow: 1px 1px 0 #688200; width: auto; font-size: xx-large; font-weight: bold; margin: 10px;">
				~ <span id="infectedCount" >Predicted infected count calculating...</span><span> infected</span>
			</div>
			<i style="font-size: small">Above is <b style="color: blue;">real-time intraday prediction</b> based on the model below.</i>
			<br>
            <br>
			<br>
				<div class="chartjs-size-monitor">
					<div class="chartjs-size-monitor-expand">
						<div class=""></div>
					</div>
					<div class="chartjs-size-monitor-shrink">
						<div class=""></div>
					</div>
				</div>
				<canvas id="canvas" style="display: block" class="chartjs-render-monitor"></canvas>
			<br>
			<button id="toggleScale" style="border-radius: 0"><b>‚à° Logaritmic / Linear Scale Toggle</b></button><br>
			<br>
			The prediction of the outbreak progression is based on a very simple assumption that the counts will at first follow an exponential curve, at least at the beginning of the outbreak. Over time, instead, the s-curve shape will become dominant. The log scale chart of the time-series shows that that doubling time is around 1.7 days (geometric progression). Since the parameters of the geometric progression are changing, the prediction is calculated using only the latest 5 data points.<br>
			The time-series graph above tracks 2019‚Äì20 Wuhan coronavirus 2019-nCoV outbreak originating in Wuhan, Hubei province, China. The basic reproduction number is around 2.62 new infected per one sick. The most frequently reported symptoms are fever, cough, muscle aches, and tiredness. Time from exposure to developing symptoms (incubation) of the virus is 2 - 10 days.<br>

			<br>
			<br>
			<a class="twitter-share-button" style="background: #55ACEE; color: white; padding: 7px; border-radius: 10px; text-decoration: none" href="https://twitter.com/intent/tweet?text=Coronavirus%203%20Day%20Prediction%20Live%20https%3A%2F%2Fwww.CoronavirusChart.com%2F%20with%20log%20scale%20toggle"><i class="fa fa fa-twitter"></i> Tweet</a>
			<br>
			<br>


			<h2>China News</h2>

			<ul id="news" style="text-align: left;"></ul>
			<br>


			<h2>üë®‚Äç‚öïÔ∏è Coronavirus Prevention Quiz</h2>
            (Auto generated quiz via <a href="https://quizrecall.com">Quizrecall</a> from <a href="https://www.cdc.gov/coronavirus/2019-ncov/about/prevention-treatment.html">CDC's text</a>.)<br><br>
            <a href="https://www.coronaviruschart.com/coronavirus-quiz.pdf">‚á© Download a pdf</a>.


			<div style="text-align: left">


			<h3>Question 1</h3>
			The best way to prevent infection is to {{ ... }}.<br>

			<ol type="a">
				<li>
					avoid being exposed to this virus
				</li>
				<li>
					be concerned about the risk of infection as well
				</li>
				<li>
					keep your hands on the soap
				</li>
			</ol>



			<h3>Question 2</h3>
			However, as a reminder, CDC always recommends everyday preventive actions to help prevent the spread of respiratory viruses, including: Wash your {{ ... }}.<br>

			<ol type="a">
				<li>
					hands, give every bite a chance to keep your nose open
				</li>
				<li>
					hands every day until you get a flu shot, get vaccinated, stay under control for 24
				</li>
				<li>
					hands often with soap and water for at least 20 seconds
				</li>
			</ol>


			<h3>Question 3</h3>
			Use an alcohol-based hand sanitizer that contains {{ ... }}.<br>

			<ol type="a">
				<li>
					antifungal immunoprecipients, not salt; run an inflatable swimming pool
				</li>
				<li>
					a soap bottle, scrubbing your hands frequently, washing hands frequently, combing your hands often
				</li>
				<li>
					at least 60% alcohol if soap and water are not available
				</li>
			</ol>



			<h3>Question 4</h3>
			Avoid touching your eyes, nose, and {{ ... }}.<br>

			<ol type="a">
				<li>
					mouth with unwashed hands
				</li>
				<li>
					neck, especially when wearing your shoes
				</li>
				<li>
					nose, as the infection can spread
				</li>
			</ol>


			<h3>Question 5</h3>
			Avoid close contact with {{ ... }}.<br>

			<ol type="a">
				<li>
					people who are sick
				</li>
				<li>
					your eyes when using soap during
				</li>
				<li>
					washing hands with soap
				</li>

			</ol>


			<h3>Question 6</h3>
			Stay home when you {{ ... }}.<br>

			<ol type="a">

				<li>
					need to use
				</li>

				<li>
					have to be
				</li>
				<li>
					are sick
				</li>
			</ol>


			<h3>Question 7</h3>
			Cover your cough or sneeze with a tissue, then throw {{ ... }}.<br>
			<ol type="a">
				<li>
					your hands up, arms, hands, face
				</li>
				<li>
					the tissue in the trash
				</li>
				<li>
					it on the floor
				</li>

			</ol>



			<h3>Question 8</h3>
			Clean and disinfect frequently touched {{ ... }}.<br>

			<ol type="a">
				<li>
					objects and surfaces
				</li>

				<li>
					surfaces where you cannot
				</li>
				<li>
					tissues with dental iron
				</li>
			</ol>


			<h3>Question 9</h3>
			These are everyday habits that can help prevent {{ ... }}.<br>

			<ol type="a">
				<li>
					the spread of several viruses
				</li>
				<li>
					self-harm, destruction, more
				</li>
				<li>
					choking, but are one of the most important
				</li>
			</ol>


			<br>
			<div>
				Solution:
				<div style="transform: rotate(180deg); text-align: right">
					1. a,
					2. c,
					3. c,
					4. a,
					5. a,
					6. c,
					7. b,
					8. a,
					9. a,
				</div>
			</div>
			<br>
			<a href="https://quizrecall.com" style="flex-direction: column; display: flex; font-size: 8px; text-align: left; color: black; text-decoration: none">
				<img src="https://quizrecall.com/static/logo-transparent-shadow-w200px.png" alt="Quizrecall.com Logo" width="100px">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated with
			</a>






			</div>
			<br>
			<h3>Data Sources</h3>
			The data are sourced from various web pages since I found no good single source with both infected and dead historical data. The historical infected were collected from  <a href="https://en.wikipedia.org/wiki/2019%E2%80%9320_Wuhan_coronavirus_outbreak">a wiki</a> based on the expectation that before 2020-01-28, almost all infected and dead were in China.
			The data point for 2020-01-29 comes from the global estimates on the wiki linked refered to as "As of 30 January 2020". The historical data for the death toll comes from an page I cannot find now. And are then combined with the data point from NY Times 2020-01-27 and the wiki one for 2020-01-27.<br>
			If there will be enough interest in the page, I will revise the sources of the data e.g. <a href="https://news.sina.cn/zt_d/yiqing0121">sina.cn</a>.
			<br>
			<br>
			<!-- <a class="twitter-timeline" href="https://twitter.com/WHO?ref_src=twsrc%5Etfw">Tweets by WHO</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> -->



			<script>
				let sourceData = [
					{ d: '2020-01-16', i: 45, t: 1},
					{ d: '2020-01-17', i: 62, t: 2},
					{ d: '2020-01-18', i: 121, t: 3},
					{ d: '2020-01-19', i: 198, t: 4},
					{ d: '2020-01-20', i: 291, t: 4},
					{ d: '2020-01-21', i: 440, t: 6},
					{ d: '2020-01-22', i: 571, t: 22},
					{ d: '2020-01-23', i: 830, t: 25},
					{ d: '2020-01-24', i: 1287, t: 41},
					{ d: '2020-01-25', i: 1975, t: 55},
					{ d: '2020-01-26', i: 2744, t: 80},
					{ d: '2020-01-27', i: 4515, t: 106},
					{ d: '2020-01-28', i: 6171, t: 133},
					{ d: '2020-01-29', i: 7823, t: 170},
					{ d: '2020-01-30', i: 9822, t: 213},
					{ d: '2020-01-31', i: 11951, t: 259},
					{ d: '2020-02-01', i: 14556, t: 305},
					{ d: '2020-02-02', i: 17390, t: 362},
					{ d: '2020-02-03', i: 20629, t: 427},
					{ d: '2020-02-04', i: 24553, t: 492},
					{ d: '2020-02-05', i: 28276, t: 565},
					{ d: '2020-02-06', i: 31481, t: 639},
					{ d: '2020-02-07', i: 34902, t: 724},
					{ d: '2020-02-08', i: 37567, t: 813},
					{ d: '2020-02-09', i: 40614, t: 910},

				];

				let ahead = 3;
				let [data, infectedNow] = predict(sourceData, ahead);
				document.getElementById('infectedCount').innerText = (infectedNow - 1).toString();

				function infectedNowToString(infectedNow) {
					let s = infectedNow.toString();
					if (!s.includes('.')) {
					    s = s + '.0';
					}
					return s;
				}

				function updateIC() {
					[data, infectedNow] = predict(sourceData, 0);
					document.getElementById('infectedCount').innerText = infectedNowToString(infectedNow);

				}

				// setTimeout(() => {
				// 	document.getElementById('infectedCount').innerText = infectedNow.toString();
					setInterval(updateIC, 500);
				// }, 2000);

				var color = Chart.helpers.color;

				function pointColors(normalColor) {
					let bcs = [];
					for (let i = 0; i < log_infecteds.length + ahead; i++) {
						if (i < log_infecteds.length) {
							bcs.push(normalColor);
						} else {
							bcs.push(color(window.chartColors.blue).alpha(1).rgbString());
						}
					}
					return bcs;
				}

				let bcs = pointColors(color(window.chartColors.yellow).alpha(1).rgbString());
				let tbcs = pointColors(color(window.chartColors.red).alpha(1).rgbString());



				var type = 'linear';

				var timeFormat = 'YYYY-MM-DD';

				var config = {
					type: 'line',
					data: {
						labels: data.map(d => new Date(d.d)),
						datasets: [
							{
								label: '‚ò£  Infected - click to toggle',
								backgroundColor: color(window.chartColors.yellow).alpha(1).rgbString(),
								borderColor: window.chartColors.yellow,
								pointBackgroundColor: bcs,
								pointBorderColor: bcs,
								fill: false,
								data: data.map(d => d.i),
							},
							{
								label: '‚úù Dead - click to toggle',
								backgroundColor: color(window.chartColors.red).alpha(1).rgbString(),
								borderColor: window.chartColors.red,
								pointBackgroundColor: tbcs,
								pointBorderColor: tbcs,
								fill: false,
								data: data.map(d => d.t),
							},
							// {
							// 	label: '‚ò£  Infected Model',
							// 	backgroundColor: color(window.chartColors.blue).alpha(1).rgbString(),
							// 	borderColor: window.chartColors.blue,
							// 	// pointBackgroundColor: bcs,
							// 	// pointBorderColor: bcs,
							// 	hidden: true,
							// 	fill: false,
							// 	data: data.map(d => d.im),
							// },
							// {
							// 	label: '‚úù Dead Model',
							// 	backgroundColor: color(window.chartColors.blue).alpha(1).rgbString(),
							// 	borderColor: window.chartColors.blue,
							// 	// pointBackgroundColor: bcs,
							// 	// pointBorderColor: bcs,
							// 	hidden: true,
							// 	fill: false,
							// 	data: data.map(d => d.tm),
							// },
						]
					},
					options: {
						// maintainAspectRatio: false,
						title: {
							text: 'Coronavirus Infected and Dead Chart'
						},
						scales: {
							xAxes: [{
								type: 'time',
								time: {
									parser: timeFormat,
									round: 'day',
									tooltipFormat: 'll',
									unit: 'day',
									displayFormats: {
										day: 'DD/MM'
									}
								},
								scaleLabel: {
									display: true,
									labelString: 'Date'
								}
							}],
							yAxes: [{
								scaleLabel: {
									display: true,
									labelString: '# people'
								}
							}]
						},
					}
				};

				window.onload = function() {
					var ctx = document.getElementById('canvas').getContext('2d');
					window.myLine = new Chart(ctx, config);

				};

				document.getElementById('toggleScale').addEventListener('click', function() {
					type = type === 'linear' ? 'logarithmic' : 'linear';
					window.myLine.options.title.text = 'Chart.js Line Chart - ' + type;
					window.myLine.options.scales.yAxes[0] = {
						display: true,
						type: type
					};

					window.myLine.update();
				});

				function findLineByLeastSquares(values_x, values_y) {
					var x_sum = 0;
					var y_sum = 0;
					var xy_sum = 0;
					var xx_sum = 0;
					var count = 0;

					/*
					 * The above is just for quick access, makes the program faster
					 */
					var x = 0;
					var y = 0;
					var values_length = values_x.length;

					if (values_length !== values_y.length) {
						throw new Error('The parameters values_x and values_y need to have same size!');
					}

					/*
					 * Above and below cover edge cases
					 */
					if (values_length === 0) {
						return [ [], [] ];
					}

					/*
					 * Calculate the sum for each of the parts necessary.
					 * FIT ONLY last 5!
					 */
					for (let i = values_length - 5; i< values_length; i++) {
						x = values_x[i];
						y = values_y[i];
						x_sum+= x;
						y_sum+= y;
						xx_sum += x*x;
						xy_sum += x*y;
						count++;
					}

					/*
					 * Calculate m and b for the line equation:
					 * y = x * m + b
					 */
					var m = (count*xy_sum - x_sum*y_sum) / (count*xx_sum - x_sum*x_sum);
					var b = (y_sum/count) - (m*x_sum)/count;


					return [m, b]
				}

				function predict(data, ahead) {

					log_infecteds = data.map(d=>Math.log(d.i));
					log_toll = data.map(d=>Math.log(d.t));
					days = [...Array(data.length).keys()];

					let [m, b] = findLineByLeastSquares(days, log_infecteds);
					let [mt, bt] = findLineByLeastSquares(days, log_toll);

					let latest = data[log_infecteds.length - 1];
					let seconds = moment().diff(moment(latest.d).add(1, 'days')) / 1000;
					let infectedNow = Math.floor(Math.exp((log_infecteds.length - 1 + seconds / (60*60*24)) * m + b) * 10) / 10;

					// predict next 3 values
					// let previous_date = data[log_infecteds.length - 1].d;
					let previous_date = undefined;
					for (let i = 0; i < log_infecteds.length + ahead; i++) {
						let y = Math.floor(Math.exp(i * m + b));
						let yt = Math.floor(Math.exp(i * mt + bt));
						let datum = data[i];
						if (!datum) {
							datum = {};
							datum.i = y;
							datum.t = yt;
							datum.d = moment(previous_date).add(1,'days').format('YYYY-MM-DD');
							data.push(datum);
						}
						datum.im = y;
						datum.tm = yt;
						previous_date = datum.d
					}
					return [data, infectedNow];
				}

				window.fetch('https://virus.machinesrental.com/?type=range&from=' + moment().add(-1, 'days').format('YYYY-MM-DD'))
					.then(r => r.json())
					.then(news => {
						document.getElementById('news').innerHTML =
								'<li>' +
									news.data.map(n => `<b>${n.date}</b> <a href="${n.url}" rel="nofollow">${n.title}</a>`)
											.join('</li>\n<li>')
								+ '</li>';
					});


			</script>

			<br>
			<i style="font-size: small">Report issues to: corowrrw [at] server135.web-hosting.com</i>

		</div>
	</div>

</body>
</html>